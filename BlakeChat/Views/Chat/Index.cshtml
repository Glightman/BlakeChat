@model Message

@{ 
    var messages = ViewBag.Messages as List<Message>;
    var username = ViewBag.CurrentUserName as string;
}

<style>
    .chat{
        max-height: 500px;
        overflow-y: scroll;
        border: 1px solid silver;
    }
        .chat::-webkit-scrollbar{
            width: 5px;
        }
        .chat::-webkit-scrollbar-thumb{
            box-shadow: inset 0 0 6px rgba(0,0,0.3);
            background-color: silver;
        }
</style>
 <h2>Blake Chat</h2>
 <div class="bg-light chat jumbotron" id="chat">
     @if (messages != null)
     {
         @foreach (var message in messages.OrderBy(m => m.DateTime))
         {
             var position = username == message.userName ? "text-right" : "text-left";
             var alert = username == message.userName ? "text-right" : "text-left";
             <div class="row">
                 <div class="col-md-12 @position">
                     <small class="text-dark">@message.userName</small>
                     <div class="alert mb-0 @alert" role="alert">
                         <span class="d-block">@message.text</span>
                     </div>
                     <small class="text-info">@message.DateTime.ToString("dd/MM HH:mm")</small>
                 </div>
             </div>
         }
     }
 </div>
